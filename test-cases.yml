- summary: |
    Регистрация пользователя
  requirement: |
    При введении пользователем корректных данных пользователь должен успешно зарегистрироваться
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = kolyamas Email = kolya_maslov_2013@mail.ru Password = jumbas133 Password Confirmation = jumbas133
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим Password
    - Вводим Password Confirmation
    - Нажимаем Submit
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Авторизация с помощью сторонних сервисов
  requirement: |
    При выборе стороннего сервиса для авторизации пользователь должен войти в систему
  prerequisites: |
    Открыта страница входа
  test-data: |
    Тестовые данные
    Логин = kolya_maslov_2013@mail.ru Пароль = jumbas133
  steps:
    - Нажимаем кнопку Sign in with Github/Discord
    - Переходим на страницу стороннего сервиса
    - Вводим логин и пароль
    - Подтверждаем авторизацию
  expected-result: |
    Пользователь должен попасть на главную страницу, на которой будет баннер Successfully authenticated

- summary: |
    Вход в систему с использованием учетных данных
  requirement: |
    При верном вводе логина и пароля пользователь должен войти в систему
  prerequisites: |
    Открыта страница входа
  test-data: |
    Логин = kolya_maslov_2013@mail.ru Пароль = jumbas133
  steps:
    - Нажимаем кнопку Sign in
    - Вводим логин и пароль
    - Нажимаем кнопку Submit
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Выход из системы
  requirement: |
    При нажатии на кнопку "выйти" в меню пользователя произойдет выход из системы
  prerequisites: |
    Открыто меню пользователя
  test-data: |
    Кнопка "выйти"
  steps:
    - Заходим в меню пользователя
    - Нажимаем кнопку "выйти"
  expected-result: |
    Пользователь должен выйти из системы

- summary: |
    Восстановление пароля
  requirement: |
    Успешное восстановление пароля
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Кнопка "Forgot your password?"
  steps:
    - Нажимаем кнопку "Sing in"
    - Вводим Email от своего аккаунта
    - Нажимаем на кнопку "Submit"
    - Переходим по ссылке из сообщения, которое пришло на Email
  expected-result: |
    Пользователь должен получить сообщение для восстановления пароля
  
- summary: |
    Отправка личных сообщений
  requirement: |
    Сообщения доставляются другому пользователю
  prerequisites: |
    Открыта главная страница сайта
  test-data: |
    Профиль игрока kolyamas и профиль игрока Ekate
  steps:
    - С аккаунта kolyamas нажимаем на профиль игрока Ekate
    - Нажимаем на кнопку "Direct massage"
    - Печатаем сообщение
  expected-result: |
    Пользователь Ekate должен получить сообщение от kolyamas

- summary: |
    Отправка сообщений в общий чат
  requirement: |
    Сообщения доставляются в общий чат
  prerequisites: |
    Открыта главная страница сайта
  test-data: |
    Профиль игрока kolyamas
  steps:
    - Печатаем сообщение в строку для общего чата
    - Отправляем сообщение, нажав кнопку "Отправить"
  expected-result: |
    Участники чата должны увидеть сообщение от пользователя kolyamas

- summary: |
    Просмотр профиля пользователей
  requirement: |
    Отображается информация о пользователе при успешном переходе в его профиль
  prerequisites: |
    Открыта главная страница сайта
  test-data: |
    Профиль игрока kolyamas и профиль игрока Ekate
  steps:
    - Открываем профиль игрока, нажав кнопку "info"
  expected-result: |
    Должна отобразится основная информация об игроке Ekate

- summary: |
    Создание батлов
  requirement: |
    При успешном создании батла, между двумя пользователями начинается игра
  prerequisites: |
    Открыта главная страница сайта
  test-data: |
    Профиль игрока kolyamas и профиль игрока Ekate
  steps:
    - Нажимаем "create a battle"
    - Выбираем "Witt a friend"
    - Выбираем пользователя Ekate
    - Выставляем режим "rect_area"
    - Выбираем тэг "match"
    - Нажимаем "Create invite"
  expected-result: |
    Должно успешно создаться лобби с пользователем Ekate

- summary: |
    Вступление в батл
  requirement: |
    При присодинении в лобби начинается батл между пользователями
  prerequisites: |
    Открыта главная страница сайта
  test-data: |
    Профиль игрока kolyamas и профиль игрока Ekate
  steps:
    - Нажимаем "Join a battle"
    - Нажимаем "сражаться" напротив пользователя Ekate
  expected-result: |
    Успешно присоединяемся в лобби с пользователем Ekate

- summary: |
    Подсчет очков
  requirement: |
    При выигранном батле начисляется одно очко
  prerequisites: |
    игрок kolyamas побеждает в батле с игроком Ekate
  test-data: |
    Профиль игрока kolyamas и профиль игрока Ekate
  steps:
    - игрок kolyamas создает игру
    - игрок Ekate присоединяется к лобби
    - игрок kolyamas решает задачу правильно первым
  expected-result: |
    В конце батла изменяется количество очков в профиле kolyamas в соответствии с результатом

- summary: |
    Ведение рейтинга пользователей
  requirement: |
    Фильтрация рейтинга пользователей
  prerequisites: |
    Открыта страница с рейтингом пользователей
  test-data: |
    Points, total, 20 Users per page
  steps:
    - Фильтруем рейтинг за все время (total)
    - Фильтруем рейтинг по очкам (points)
    - Выбираем число 20 в фильтре "Users per page"
  expected-result: |
    Должно отображаться первые 20 пользователей на странице, отфильтрованных по количеству очков за все время

- summary: |
    Проверка пароля на надежность при регистрации
  requirement: |
    При ненадежном пароле должна возникнуть ошибка
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = kolyamasl Email = kolyamasl@mail.ru Password = 123
    Nickname = kolyamasl Email = kolyamasl@mail.ru Password = йцуке
    Nickname = kolyamasl Email = kolyamasl@mail.ru Password = 1111111111111111
  steps:
    - вводим Nickname"kolyamasl"
    - вводим Email = kolyamasl@mail.ru
    - вводим Password = 123
    - вводим Password Confirmation = 123
    - нажимаем Submit
    - вводим Password = йцуке
    - вводим Password Confirmation = йцуке
    - нажимаем Submit
    - вводим Password = 1111111111111111
    - вводим Password Confirmation = 1111111111111111
  expected-result: |
    Должнs возникнуть ошибка "Should be from 6 to 16 characters" и "Should contain at least one special character"

- summary: |
    Совместимость с различными версиями браузеров
  requirement: |
    Сайт должен исправно работать на различных версиях браузеров
  prerequisites: |
    Открыты браузеры Microsoft Edge, Opera, Google Chrome
  test-data: |
    Microsoft Edge, Opera, Google Chrome
  steps:
    - переходим на страницу сайта в браузерах Microsoft Edge, Opera, Google Chrome
    - проверяем его работоспособность
  expected-result: |
    Сайт успешно функционирует в различных браузерах

- summary: |
    Проверка двухфакторной аутентификации
  requirement: |
    При верном вводе логине и пароля система требует дополнительное подтверждения личности
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Логин = kolya_maslov_2013@mail.ru Пароль = Jumbas133!
  steps:
    - заполняем данные для авторизации
    - нажимаем кнопку "Submit"
  expected-result: |
    Пользователь вошел в систему без двухфакторной аутентификации

- summary: |
    Проверка времени загрузки страниц
  requirement: |
    Загрузка страниц сайта не должна быть слишком долгой и не должна превышать 10 секунд
  prerequisites: |
    Страница авторизации
    Страница создания лобби
    Страница рейтинга пользователей
  test-data: |
    Логин = kolya_maslov_2013@mail.ru Пароль = Jumbas133!
    Профиль kolyamas
    Профиль Ekate
  steps:
    - вводим логин и пароль для авторизации в профиль kolyamas
    - создаем лобби с пользователем Ekate
    - в главном меню в настройках нажимаем кнопку "Hall of Fame"
  expected-result: |
    Все страницы грузятся быстрее 10 секунд

- summary: |
    Просмотр интерфейса сайта
  requirement: |
    Интерфейс должен быть понятным и простым в использовании для пользователей разного уровня подготовки.
  prerequisites: |
    Сайт https://codebattle.hexlet.io
  test-data: |
    Страница авторизации
    Страница главного меню
    Настройки профиля
    Рейтинг пользователей
    Страница батла между пользователями
  steps:
    - заходим на кажду страницу
  expected-result: |
   Интерфейс интуитивно понятен
